<div *ngIf="(loadingCandidates$ | async)">
  <app-spinner message="Loading candidates..."></app-spinner>
</div>
<div *ngIf="!(loadingCandidates$ | async)" class="table-responsive-sm">
  <table class="table table-hover my-4">
    <thead>
    <tr class="table-success">
      <th scope="col">Name</th>
      <th scope="col">Company</th>
      <th scope="col">Contact Number</th>
      <th scope="col">Email Address</th>
      <th scope="col">Hiring Manager</th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let candidate of candidates" class="table-active">
        <th scope="row" (click)="onEditCandidate(candidate.id)">{{candidate.fullName}}</th>
        <td (click)="onEditCandidate(candidate.id)">{{ candidate.companyName }}</td>
        <td (click)="onEditCandidate(candidate.id)">{{ candidate.phoneNumber }}</td>
        <td><a href="mailto:{{candidate.email}}" class="link">{{ candidate.email }}</a></td>
        <td>
          <div class="form-check">
            <form id="candidateForm{{candidate.id}}" [formGroup]="getCandidateForm(candidate.id)">
              <input id="isHiringInput{{candidate.id}}" class="form-check-input" type="checkbox" (click)="onToggleIsHiringManager(candidate.id, $event)" formControlName="isHiringManager">
            </form>
          </div>
        </td>
    </tr>
    </tbody>
  </table>
  <app-back-button></app-back-button>
  <button class="btn btn-success" [routerLink]="['/candidates', 'new']">Add</button>
</div>
